(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},50:function(e,t,n){},71:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(19),r=n.n(o),i=(n(27),n(10)),s=n(4),u=(n(28),n(29),n(1));function l(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),o=a[0],r=a[1],i=Object(c.useCallback)((function(e){r(e.currentTarget.value)}),[]),l=Object(c.useCallback)((function(e){e.preventDefault(),t(o),r("")}),[t,o]);return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:l,children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:i})]})})}n(31);var b=function(e){var t=e.id,n=e.webformatURL,c=e.toggleModal,a=e.setCurrentLargeImageURL;return Object(u.jsx)("li",{index:t,className:"ImageGalleryItem",onClick:function(){c(),a(t)},children:Object(u.jsx)("img",{src:n,alt:"",className:"ImageGalleryItem-image"})})},j=n(20),d=n.n(j),m=function(e){var t=e.searchQuery,n=void 0===t?"":t,c=e.currentPage,a=void 0===c?1:c,o=e.pageSize,r=void 0===o?12:o;return d.a.get("https://pixabay.com/api/?q=".concat(n,"&page=").concat(a,"\n          &key=").concat("12798852-7489cd1b3c3d687fea55036ed","&image_type=photo&orientation=horizontal&per_page=").concat(r)).then((function(e){return e.data.hits}))},f=(n(50),function(e){var t=e.onClick;return Object(u.jsx)("button",{onClick:function(){t()},type:"button",className:"Button",children:"Load more"})}),h=n(21),O=n.n(h);n(71);function g(e){var t=e.onClose,n=e.largeImageURL;return Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),Object(u.jsx)("div",{className:"Overlay",onClick:t,children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:n,alt:""})})})}n(72);var p=n(22),v=n.n(p),x=n(9),w=n.n(x);function S(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(1),r=Object(s.a)(o,2),j=r[0],d=r[1],h=Object(c.useState)(""),p=Object(s.a)(h,2),x=p[0],S=p[1],y=Object(c.useState)(!1),C=Object(s.a)(y,2),k=C[0],L=C[1],N=Object(c.useState)(null),I=Object(s.a)(N,2),E=I[0],F=I[1],R=Object(c.useState)(!1),U=Object(s.a)(R,2),M=U[0],B=U[1],D=Object(c.useState)(""),T=Object(s.a)(D,2),G=T[0],P=T[1],z=function(){B(!M)},J=function(e){var t=n.find((function(t){return t.id===e}));P(t.largeImageURL)},Q=Object(c.useCallback)((function(e){S(e),d(1),a([]),F(null)}),[]);Object(c.useEffect)((function(){if(x){!function(){var e={searchQuery:x,currentPage:j};L(!0),m(e).then((function(e){a((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),0===e.length&&w.a.warning("No results found!")})).catch((function(e){return F(e.message)})).finally((function(){L(!1),j>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}()}}),[j,x]);var _=n.length>0&&!k;return Object(u.jsxs)(u.Fragment,{children:[M&&Object(u.jsx)(g,{onClose:z,largeImageURL:G}),Object(u.jsx)(l,{onSubmit:Q}),Object(u.jsx)("ul",{className:"ImageGallery",children:n.map((function(e){var t=e.id,n=e.webformatURL;return Object(u.jsx)(b,{id:t,webformatURL:n,toggleModal:z,setCurrentLargeImageURL:J},v.a.generate())}))}),E&&Object(u.jsx)("h2",{children:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),k&&Object(u.jsx)(O.a,{type:"Puff",color:"#00BFFF",height:100,width:100}),_&&Object(u.jsx)(f,{onClick:function(){d((function(e){return e+1}))}})]})}function y(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(S,{})})}w.a.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.c57e7d75.chunk.js.map